@using QuanLyTruongDaiHoc.Models;
@model QuanLyTruongDaiHoc.Models.tb_DangKyNghiPhep

<div class="modal fade" id="modalXuLyDon-@Model.ID">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            @using (Html.BeginForm("XuLyDon", "XinNghiPhep", FormMethod.Post))
            {
                @Html.Hidden("id_don", Model.ID)
                <div class="modal-header">
                    <h4 class="modal-title">Xử lý yêu cầu nghỉ phép</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">


                    @Html.AntiForgeryToken()

                    <div class="form-horizontal">
                        <div class="form-group">
                            Mã giảng viên: @Model.tb_GiangVien.MaGiangVien
                        </div>
                        <div class="form-group">
                            Họ tên: @Model.tb_GiangVien.tb_ThongTinCaNhan.Hoten
                        </div>
                        <div class="form-group">
                            Ngày nghỉ: @Model.NgayNghi
                        </div>
                        <div class="form-group">
                            Lý do: @Model.LyDo
                        </div>
                        <div class="form-group">
                            Ngày gửi: @Model.NgayGui
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.TrangThai, "Trạng thái", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-12">
                                <select name="TrangThai" class="form-control">
                                    @{
                                        if (Model.TrangThai == Init.DaDuyet)
                                        {
                                            <option value="@Init.DoiDuyet">@Init.StrDoiDuyet</option>
                                            <option value="@Init.DaDuyet" selected>@Init.StrDaDuyet</option>
                                            <option value="@Init.TuChoiDuyet">@Init.StrTuChoiDuyet</option>
                                        }
                                        else if (Model.TrangThai == Init.DoiDuyet)
                                        {
                                            <option value="@Init.DoiDuyet" selected>@Init.StrDoiDuyet</option>
                                            <option value="@Init.DaDuyet">@Init.StrDaDuyet</option>
                                            <option value="@Init.TuChoiDuyet">@Init.StrTuChoiDuyet</option>
                                        }
                                        else
                                        {
                                            <option value="@Init.DoiDuyet">@Init.StrDoiDuyet</option>
                                            <option value="@Init.DaDuyet">@Init.StrDaDuyet</option>
                                            <option value="@Init.TuChoiDuyet" selected>@Init.StrTuChoiDuyet</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>


                        <div class="form-group">
                            @Html.LabelFor(model => model.PhanHoi, "Phản hồi", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-12">
                                <textarea id="Phanhoi" name="Phanhoi" class="form-control">@Model.PhanHoi</textarea>
                            </div>
                        </div>

                        @{
                            if (Model.NgayDuyet != null)
                            {
                                <div class="form-group">
                                    Thông tin yêu cầu: @Model.NgayDuyet
                                </div>
                            }
                        }


                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                    <button type="submit" class="btn btn-primary">Lưu</button>
                </div>
            }
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>



